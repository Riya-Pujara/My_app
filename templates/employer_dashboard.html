{% extends 'base.html' %} {% load static %} {% block navbar %}{% endblock %}
{%block footer %}{% endblock %} {% block extra_css %}
<link rel="stylesheet" href="{% static 'css/employer_dashboard.css' %}" />
{% endblock %} {% block content %}
<div class="dashboard-wrapper">
  <!-- Sidebar Navigation -->
  <aside class="sidebar">
    <div class="sidebar-brand">
      <a href="{% url 'homepage' %}" class="logo">Career<span>Connect</span></a>
    </div>

    <ul class="sidebar-nav">
      <li>
        <a href="{% url 'employer_dashboard' %}" class="active">
          <i class="fas fa-th-large"></i> Dashboard
        </a>
      </li>
      <li>
        <a href="{% url 'post_job' %}"
          ><i class="fas fa-plus-circle"></i> Post a Job</a
        >
      </li>
      <li>
        <a href="#"><i class="fas fa-users"></i> Applicants</a>
      </li>
      <li>
        <a href="#"><i class="fas fa-building"></i> Company Profile</a>
      </li>
      <li>
        <a href="#"><i class="fas fa-envelope"></i> Messages</a>
      </li>
      <li>
        <a href="#"><i class="fas fa-cog"></i> Settings</a>
      </li>
    </ul>

    <div class="sidebar-footer">
      <a href="{% url 'logout' %}" class="logout-link">
        <i class="fas fa-sign-out-alt"></i> Logout
      </a>
    </div>
  </aside>

  <!-- Main Content Area -->
  <main class="main-content">
    <!-- Header -->
    <header class="top-header">
      <div class="user-greeting">
        <h1>Employer Hub</h1>
        <p>
          Welcome back,
          <strong>
            {{ user.employer_profile.company_name|default:"Global Tech
            Solutions" }}
          </strong>
        </p>
      </div>
    </header>

    <!-- Stats -->
    <section class="stats-container">
      <div class="stat-card">
        <h3>Active Job Posts</h3>
        <p class="number">{{ stats.active_jobs|default:"0" }}</p>
        <span class="label">Live on portal</span>
      </div>

      <div class="stat-card">
        <h3>Total Applicants</h3>
        <p class="number">{{ stats.total_applicants|default:"0" }}</p>
        <span class="label">
          +{{ stats.new_today|default:"0" }} new today
        </span>
      </div>

      <div class="stat-card glow-card">
        <h3>Shortlisted</h3>
        <p class="number">{{ stats.shortlisted|default:"0" }}</p>
        <span class="label text-cyan">Ready for Interview</span>
      </div>
    </section>

    <!-- Banner -->
    <section class="banner-box">
      <div>
        <h2>Hire your next expert</h2>
        <p>Reach over 50,000+ verified professionals.</p>
      </div>
      <a href="#" class="btn-cyan-action">
        <i class="fas fa-plus"></i> Post a New Job
      </a>
    </section>

    <!-- Table -->
    <section class="table-container">
      <h2>Recent Applicants</h2>

      <div class="responsive-table">
        <table class="applicant-table">
          <thead>
            <tr>
              <th>Candidate</th>
              <th>Applied For</th>
              <th>Match Score</th>
              <th>Status</th>
            </tr>
          </thead>
          <tbody>
            {% for applicant in applicants %}
            <tr>
              <td>{{ applicant.user.get_full_name }}</td>
              <td>{{ applicant.job.title }}</td>
              <td>{{ applicant.match_score }}%</td>
              <td>{{ applicant.get_status_display }}</td>
            </tr>
            {% empty %}
            <tr>
              <td colspan="4" style="text-align: center; padding: 20px">
                No applicants found yet.
              </td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </section>
  </main>
</div>
{% endblock %}
